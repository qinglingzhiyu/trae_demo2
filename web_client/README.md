# åŒ»ç–—CRMç®¡ç†ç³»ç»Ÿ - å‰ç«¯é¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªåŸºäº Next.js æ„å»ºçš„åŒ»ç–—CRMç®¡ç†ç³»ç»Ÿå‰ç«¯é¡¹ç›®ï¼Œæä¾›ç”¨æˆ·ç®¡ç†ã€å°±è¯Šäººç®¡ç†ã€è®¢å•ç®¡ç†ç­‰åŠŸèƒ½çš„Webç•Œé¢ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 15 (React 19)
- **å¼€å‘è¯­è¨€**: TypeScript
- **UIç»„ä»¶åº“**: Ant Design (antd)
- **æ ·å¼**: Tailwind CSS + Ant Design
- **HTTPå®¢æˆ·ç«¯**: Axios
- **æ—¥æœŸå¤„ç†**: dayjs
- **åŒ…ç®¡ç†å™¨**: npm

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” ç”¨æˆ·è®¤è¯ä¸æˆæƒ
- ğŸ‘¥ ç”¨æˆ·ç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- ğŸ¥ å°±è¯Šäººç®¡ç†
- ğŸ“‹ è®¢å•ç®¡ç†
- ğŸ“Š æ•°æ®ç»Ÿè®¡ä»ªè¡¨ç›˜
- ğŸ“± å“åº”å¼è®¾è®¡
- ğŸ¨ ç°ä»£åŒ–UIç•Œé¢
- ğŸ” é«˜çº§æœç´¢ä¸ç­›é€‰
- ğŸ“„ åˆ†é¡µä¸æ’åº

## é¡¹ç›®ç»“æ„

```
web_client/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router é¡µé¢
â”‚   â”‚   â”œâ”€â”€ dashboard/       # ä»ªè¡¨ç›˜é¡µé¢
â”‚   â”‚   â”œâ”€â”€ login/          # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ users/          # ç”¨æˆ·ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ patients/       # å°±è¯Šäººç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ orders/         # è®¢å•ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ layout.tsx      # æ ¹å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ page.tsx        # é¦–é¡µ
â”‚   â”‚   â””â”€â”€ globals.css     # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ api/                # API æ¥å£å°è£…
â”‚   â”‚   â”œâ”€â”€ config.ts       # API é…ç½®
â”‚   â”‚   â”œâ”€â”€ users.ts        # ç”¨æˆ·ç›¸å…³æ¥å£
â”‚   â”‚   â”œâ”€â”€ patients.ts     # å°±è¯Šäººç›¸å…³æ¥å£
â”‚   â”‚   â””â”€â”€ orders.ts       # è®¢å•ç›¸å…³æ¥å£
â”‚   â”œâ”€â”€ components/         # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ layouts/            # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ MainLayout.tsx  # ä¸»å¸ƒå±€
â”‚   â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts        # é€šç”¨ç±»å‹
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ index.ts        # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â””â”€â”€ constants/          # å¸¸é‡å®šä¹‰
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ package.json            # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”œâ”€â”€ tailwind.config.ts     # Tailwind CSS é…ç½®
â””â”€â”€ next.config.js         # Next.js é…ç½®
```

## æœ¬åœ°å¼€å‘ç¯å¢ƒè®¾ç½®

### å‰ç½®è¦æ±‚

- Node.js 18.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm 9.0 æˆ–æ›´é«˜ç‰ˆæœ¬

### å®‰è£…æ­¥éª¤

1. **è¿›å…¥é¡¹ç›®ç›®å½•**
   ```bash
   cd trae_demo2/web_client
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **ç¯å¢ƒé…ç½®**
   
   åˆ›å»º `.env.local` æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼š
   ```bash
   # API åŸºç¡€åœ°å€
   NEXT_PUBLIC_API_BASE_URL=http://localhost:3001/api
   ```

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```

5. **è®¿é—®åº”ç”¨**
   
   æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000)

## å¯ç”¨è„šæœ¬

- `npm run dev` - å¯åŠ¨å¼€å‘æœåŠ¡å™¨
- `npm run build` - æ„å»ºç”Ÿäº§ç‰ˆæœ¬
- `npm run start` - å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
- `npm run lint` - è¿è¡Œ ESLint æ£€æŸ¥
- `npm run lint:fix` - è‡ªåŠ¨ä¿®å¤ ESLint é—®é¢˜

## æ„å»ºç”Ÿäº§ç‰ˆæœ¬

1. **æ„å»ºé¡¹ç›®**
   ```bash
   npm run build
   ```

2. **å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨**
   ```bash
   npm run start
   ```

## API æ¥å£è¯´æ˜

é¡¹ç›®é»˜è®¤è¿æ¥åˆ° `http://localhost:3001/api` çš„åç«¯æœåŠ¡ã€‚ä¸»è¦æ¥å£åŒ…æ‹¬ï¼š

- **è®¤è¯æ¥å£**
  - `POST /auth/login` - ç”¨æˆ·ç™»å½•
  - `GET /auth/profile` - è·å–ç”¨æˆ·ä¿¡æ¯
  - `POST /auth/logout` - ç”¨æˆ·ç™»å‡º

- **ç”¨æˆ·ç®¡ç†**
  - `GET /users` - è·å–ç”¨æˆ·åˆ—è¡¨
  - `POST /users` - åˆ›å»ºç”¨æˆ·
  - `GET /users/:id` - è·å–ç”¨æˆ·è¯¦æƒ…
  - `PUT /users/:id` - æ›´æ–°ç”¨æˆ·
  - `DELETE /users/:id` - åˆ é™¤ç”¨æˆ·

- **å°±è¯Šäººç®¡ç†**
  - `GET /patients` - è·å–å°±è¯Šäººåˆ—è¡¨
  - `POST /patients` - åˆ›å»ºå°±è¯Šäºº
  - `GET /patients/:id` - è·å–å°±è¯Šäººè¯¦æƒ…
  - `PUT /patients/:id` - æ›´æ–°å°±è¯Šäºº
  - `DELETE /patients/:id` - åˆ é™¤å°±è¯Šäºº

- **è®¢å•ç®¡ç†**
  - `GET /orders` - è·å–è®¢å•åˆ—è¡¨
  - `POST /orders` - åˆ›å»ºè®¢å•
  - `GET /orders/:id` - è·å–è®¢å•è¯¦æƒ…
  - `PUT /orders/:id` - æ›´æ–°è®¢å•
  - `DELETE /orders/:id` - åˆ é™¤è®¢å•

## æµè§ˆå™¨å…¼å®¹æ€§

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## å¼€å‘è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª ESLint ä»£ç è§„èŒƒ
- ä½¿ç”¨ Prettier è¿›è¡Œä»£ç æ ¼å¼åŒ–
- ç»„ä»¶é‡‡ç”¨å‡½æ•°å¼ç»„ä»¶ + Hooks
- ä½¿ç”¨ Ant Design ç»„ä»¶åº“ä¿æŒUIä¸€è‡´æ€§

## éƒ¨ç½²è¯´æ˜

### Vercel éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. è‡ªåŠ¨éƒ¨ç½²

### Docker éƒ¨ç½²

```dockerfile
# Dockerfile ç¤ºä¾‹
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å ç”¨**
   ```bash
   # æ›´æ”¹ç«¯å£
   npm run dev -- -p 3001
   ```

2. **ä¾èµ–å®‰è£…å¤±è´¥**
   ```bash
   # æ¸…é™¤ç¼“å­˜é‡æ–°å®‰è£…
   rm -rf node_modules package-lock.json
   npm install
   ```

3. **TypeScript é”™è¯¯**
   ```bash
   # æ£€æŸ¥ç±»å‹é”™è¯¯
   npx tsc --noEmit
   ```

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚
