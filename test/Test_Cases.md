# CRM管理后台系统测试用例

## 测试用例说明

### 用例编号规则
- TC-[模块]-[功能]-[序号]
- 模块代码：AUTH（认证）、USER（用户管理）、PATIENT（就诊人管理）、ORDER（订单管理）、SYSTEM（系统管理）、ANALYTICS（数据分析）

### 优先级定义
- P0：核心功能，必须测试
- P1：重要功能，应该测试
- P2：一般功能，时间允许时测试

---

## 1. 认证模块测试用例

### TC-AUTH-LOGIN-001
**用例标题**：正常登录功能测试  
**优先级**：P0  
**前置条件**：系统正常运行，存在有效用户账号  
**测试步骤**：
1. 访问登录页面 http://localhost:4002
2. 输入正确的手机号：13800138000
3. 输入正确的密码：password123
4. 点击登录按钮

**预期结果**：
- 登录成功，跳转到系统主页
- 显示用户信息
- 侧边导航菜单正常显示

### TC-AUTH-LOGIN-002
**用例标题**：错误密码登录测试  
**优先级**：P0  
**前置条件**：系统正常运行  
**测试步骤**：
1. 访问登录页面
2. 输入正确的手机号：13800138000
3. 输入错误的密码：wrongpassword
4. 点击登录按钮

**预期结果**：
- 登录失败
- 显示错误提示信息
- 不跳转页面

### TC-AUTH-LOGIN-003
**用例标题**：空字段登录测试  
**优先级**：P1  
**前置条件**：系统正常运行  
**测试步骤**：
1. 访问登录页面
2. 手机号和密码字段留空
3. 点击登录按钮

**预期结果**：
- 显示字段必填提示
- 登录按钮保持禁用状态或显示验证错误

---

## 2. 用户管理模块测试用例

### TC-USER-LIST-001
**用例标题**：用户列表页面加载测试  
**优先级**：P0  
**前置条件**：已登录系统  
**测试步骤**：
1. 点击侧边导航"用户管理"
2. 观察页面加载情况

**预期结果**：
- 页面正常加载
- 显示用户列表表格
- 显示分页组件
- 显示搜索和筛选功能

### TC-USER-CREATE-001
**用例标题**：创建新用户功能测试  
**优先级**：P0  
**前置条件**：已登录系统，在用户管理页面  
**测试步骤**：
1. 点击"新增用户"按钮
2. 填写用户信息：
   - 姓名：测试用户001
   - 手机号：13900139001
   - 邮箱：test001@example.com
   - 角色：普通用户
3. 点击"确定"按钮

**预期结果**：
- 弹出创建用户对话框
- 表单验证正常
- 用户创建成功
- 列表中显示新创建的用户
- 显示成功提示信息

### TC-USER-SEARCH-001
**用例标题**：用户搜索功能测试  
**优先级**：P1  
**前置条件**：已登录系统，在用户管理页面，存在测试数据  
**测试步骤**：
1. 在搜索框中输入用户姓名关键词
2. 点击搜索按钮或按回车键
3. 观察搜索结果

**预期结果**：
- 显示匹配的用户记录
- 搜索结果准确
- 支持模糊搜索

### TC-USER-EDIT-001
**用例标题**：编辑用户信息功能测试  
**优先级**：P0  
**前置条件**：已登录系统，在用户管理页面，存在可编辑的用户  
**测试步骤**：
1. 点击某个用户的"编辑"按钮
2. 修改用户信息（如姓名、邮箱等）
3. 点击"保存"按钮

**预期结果**：
- 弹出编辑用户对话框
- 表单预填充原有数据
- 修改保存成功
- 列表中显示更新后的信息

### TC-USER-DELETE-001
**用例标题**：删除用户功能测试  
**优先级**：P1  
**前置条件**：已登录系统，在用户管理页面，存在可删除的用户  
**测试步骤**：
1. 点击某个用户的"删除"按钮
2. 在确认对话框中点击"确定"

**预期结果**：
- 显示删除确认对话框
- 删除成功
- 用户从列表中移除
- 显示成功提示信息

---

## 3. 就诊人管理模块测试用例

### TC-PATIENT-LIST-001
**用例标题**：就诊人列表页面加载测试  
**优先级**：P0  
**前置条件**：已登录系统  
**测试步骤**：
1. 点击侧边导航"就诊人管理"
2. 观察页面加载情况

**预期结果**：
- 页面正常加载
- 显示就诊人列表表格
- 显示分页组件
- 显示搜索和筛选功能

### TC-PATIENT-CREATE-001
**用例标题**：创建新就诊人功能测试  
**优先级**：P0  
**前置条件**：已登录系统，在就诊人管理页面  
**测试步骤**：
1. 点击"新增就诊人"按钮
2. 填写就诊人信息：
   - 姓名：张三
   - 性别：男
   - 出生日期：1990-01-01
   - 手机号：13800138001
   - 身份证号：110101199001011234
3. 点击"确定"按钮

**预期结果**：
- 弹出创建就诊人对话框
- 表单验证正常
- 就诊人创建成功
- 列表中显示新创建的就诊人

### TC-PATIENT-DETAIL-001
**用例标题**：就诊人详情页面测试  
**优先级**：P1  
**前置条件**：已登录系统，存在就诊人数据  
**测试步骤**：
1. 在就诊人列表中点击某个就诊人的"查看"按钮
2. 观察详情页面内容

**预期结果**：
- 跳转到就诊人详情页面
- 显示完整的就诊人信息
- 显示就诊记录（如果有）
- 显示健康档案信息

### TC-PATIENT-RELATION-001
**用例标题**：就诊人关系管理测试  
**优先级**：P2  
**前置条件**：已登录系统，存在多个就诊人  
**测试步骤**：
1. 在就诊人详情页面点击"管理关系"按钮
2. 选择关系类型（如父子、夫妻等）
3. 选择关联的就诊人
4. 保存关系设置

**预期结果**：
- 弹出关系管理对话框
- 关系设置成功
- 在相关就诊人页面能看到关系信息

---

## 4. 订单管理模块测试用例

### TC-ORDER-LIST-001
**用例标题**：订单列表页面加载测试  
**优先级**：P0  
**前置条件**：已登录系统  
**测试步骤**：
1. 点击侧边导航"订单管理"
2. 观察页面加载情况

**预期结果**：
- 页面正常加载
- 显示订单列表表格
- 显示不同状态的订单
- 显示分页组件

### TC-ORDER-CREATE-001
**用例标题**：创建新订单功能测试  
**优先级**：P0  
**前置条件**：已登录系统，在订单管理页面，存在用户和就诊人数据  
**测试步骤**：
1. 点击"新增订单"按钮
2. 选择用户和就诊人
3. 添加服务项目和数量
4. 确认订单信息
5. 点击"创建订单"按钮

**预期结果**：
- 弹出创建订单对话框
- 能够选择用户和就诊人
- 能够添加服务项目
- 自动计算总金额
- 订单创建成功

### TC-ORDER-PAYMENT-001
**用例标题**：订单支付功能测试  
**优先级**：P0  
**前置条件**：已登录系统，存在待支付订单  
**测试步骤**：
1. 在订单列表中找到待支付订单
2. 点击"支付"按钮
3. 选择支付方式（现金/银行卡/微信/支付宝）
4. 确认支付金额
5. 点击"确认支付"按钮

**预期结果**：
- 弹出支付对话框
- 显示订单金额
- 支持多种支付方式
- 支付成功后订单状态更新为"已支付"

### TC-ORDER-REFUND-001
**用例标题**：订单退款功能测试  
**优先级**：P1  
**前置条件**：已登录系统，存在已支付订单  
**测试步骤**：
1. 在订单列表中找到已支付订单
2. 点击"退款"按钮
3. 填写退款原因
4. 确认退款金额
5. 点击"确认退款"按钮

**预期结果**：
- 弹出退款对话框
- 需要填写退款原因
- 退款成功后订单状态更新
- 生成退款记录

### TC-ORDER-DETAIL-001
**用例标题**：订单详情页面测试  
**优先级**：P1  
**前置条件**：已登录系统，存在订单数据  
**测试步骤**：
1. 在订单列表中点击某个订单的"查看"按钮
2. 观察详情页面内容

**预期结果**：
- 跳转到订单详情页面
- 显示完整的订单信息
- 显示支付记录
- 显示退款记录（如果有）
- 显示操作历史

---

## 5. 系统管理模块测试用例

### TC-SYSTEM-PERMISSION-001
**用例标题**：权限管理页面测试  
**优先级**：P1  
**前置条件**：已登录系统，具有管理员权限  
**测试步骤**：
1. 点击侧边导航"系统设置" -> "权限管理"
2. 观察页面加载情况
3. 查看角色列表和权限设置

**预期结果**：
- 页面正常加载
- 显示角色管理和用户角色分配功能
- 显示权限树结构
- 能够编辑角色权限

### TC-SYSTEM-PARAMS-001
**用例标题**：系统参数设置测试  
**优先级**：P1  
**前置条件**：已登录系统，具有管理员权限  
**测试步骤**：
1. 点击侧边导航"系统设置" -> "系统参数"
2. 修改系统配置项
3. 点击"保存"按钮

**预期结果**：
- 页面正常加载
- 显示各种系统配置选项
- 配置保存成功
- 显示成功提示

### TC-SYSTEM-PERSONAL-001
**用例标题**：个人设置页面测试  
**优先级**：P2  
**前置条件**：已登录系统  
**测试步骤**：
1. 点击侧边导航"系统设置" -> "个人设置"
2. 修改个人信息
3. 点击"保存"按钮

**预期结果**：
- 页面正常加载
- 显示个人信息、安全设置、通知设置
- 信息保存成功

---

## 6. 数据分析模块测试用例

### TC-ANALYTICS-DASHBOARD-001
**用例标题**：数据分析主页测试  
**优先级**：P1  
**前置条件**：已登录系统，存在业务数据  
**测试步骤**：
1. 点击侧边导航"数据分析"
2. 观察页面加载情况
3. 查看各种统计图表

**预期结果**：
- 页面正常加载
- 显示关键业务指标
- 显示各种统计图表
- 数据显示正确

### TC-ANALYTICS-EXPORT-001
**用例标题**：数据导出功能测试  
**优先级**：P2  
**前置条件**：已登录系统，在数据分析页面  
**测试步骤**：
1. 选择要导出的数据类型
2. 设置导出条件（时间范围等）
3. 点击"导出"按钮

**预期结果**：
- 能够选择导出格式（Excel、CSV等）
- 导出成功
- 下载的文件内容正确

---

## 7. UI/UX测试用例

### TC-UI-RESPONSIVE-001
**用例标题**：响应式设计测试  
**优先级**：P1  
**前置条件**：已登录系统  
**测试步骤**：
1. 调整浏览器窗口大小到不同分辨率
2. 观察页面布局变化
3. 测试各功能是否正常

**预期结果**：
- 在1920×1080分辨率下显示完整
- 在1366×768分辨率下正常显示
- 侧边导航在小屏幕下可折叠
- 表格在小屏幕下可横向滚动

### TC-UI-NAVIGATION-001
**用例标题**：导航功能测试  
**优先级**：P0  
**前置条件**：已登录系统  
**测试步骤**：
1. 点击各个导航菜单项
2. 测试面包屑导航
3. 测试侧边导航折叠/展开

**预期结果**：
- 所有导航链接正常工作
- 当前页面在导航中高亮显示
- 面包屑导航正确显示路径
- 侧边导航折叠/展开正常

### TC-UI-FORM-001
**用例标题**：表单交互测试  
**优先级**：P1  
**前置条件**：已登录系统  
**测试步骤**：
1. 测试各种表单输入控件
2. 测试表单验证
3. 测试表单提交

**预期结果**：
- 输入框获得焦点时显示蓝色边框
- 必填项标记清晰
- 验证错误时显示红色边框和错误提示
- 表单提交成功显示成功提示

---

## 8. API接口测试用例

### TC-API-AUTH-001
**用例标题**：用户登录API测试  
**优先级**：P0  
**前置条件**：后端服务正常运行  
**测试步骤**：
1. 发送POST请求到 /api/v1/auth/login
2. 请求体包含正确的手机号和密码
3. 检查响应结果

**预期结果**：
- 返回状态码200
- 响应包含access_token
- 响应包含用户信息

### TC-API-USER-001
**用例标题**：获取用户列表API测试  
**优先级**：P0  
**前置条件**：已获得有效的JWT令牌  
**测试步骤**：
1. 发送GET请求到 /api/v1/users
2. 请求头包含Authorization: Bearer <token>
3. 检查响应结果

**预期结果**：
- 返回状态码200
- 响应包含用户列表数据
- 响应包含分页信息

### TC-API-PATIENT-001
**用例标题**：创建就诊人API测试  
**优先级**：P0  
**前置条件**：已获得有效的JWT令牌  
**测试步骤**：
1. 发送POST请求到 /api/v1/patients
2. 请求体包含就诊人信息
3. 检查响应结果

**预期结果**：
- 返回状态码201
- 响应包含创建的就诊人信息
- 数据库中成功创建记录

### TC-API-ORDER-001
**用例标题**：创建订单API测试  
**优先级**：P0  
**前置条件**：已获得有效的JWT令牌，存在用户和就诊人数据  
**测试步骤**：
1. 发送POST请求到 /api/v1/orders
2. 请求体包含订单信息
3. 检查响应结果

**预期结果**：
- 返回状态码201
- 响应包含创建的订单信息
- 订单状态为"待支付"

---

## 9. 性能测试用例

### TC-PERF-LOAD-001
**用例标题**：页面加载性能测试  
**优先级**：P2  
**前置条件**：系统正常运行  
**测试步骤**：
1. 清除浏览器缓存
2. 访问各个主要页面
3. 记录页面加载时间

**预期结果**：
- 首次加载时间<3秒
- 二次加载时间<1秒
- 页面响应流畅

### TC-PERF-API-001
**用例标题**：API响应性能测试  
**优先级**：P2  
**前置条件**：后端服务正常运行  
**测试步骤**：
1. 发送多个API请求
2. 记录响应时间
3. 分析性能数据

**预期结果**：
- 简单查询响应时间<1秒
- 复杂查询响应时间<3秒
- API响应稳定

---

## 10. 兼容性测试用例

### TC-COMPAT-BROWSER-001
**用例标题**：浏览器兼容性测试  
**优先级**：P1  
**前置条件**：系统正常运行  
**测试步骤**：
1. 在Chrome浏览器中测试主要功能
2. 在Firefox浏览器中测试主要功能
3. 在Safari浏览器中测试主要功能
4. 在Edge浏览器中测试主要功能

**预期结果**：
- 所有浏览器中功能正常
- 界面显示一致
- 无明显兼容性问题

### TC-COMPAT-RESOLUTION-001
**用例标题**：分辨率兼容性测试  
**优先级**：P1  
**前置条件**：系统正常运行  
**测试步骤**：
1. 在1920×1080分辨率下测试
2. 在1366×768分辨率下测试
3. 在1440×900分辨率下测试

**预期结果**：
- 所有分辨率下界面正常显示
- 内容不被截断
- 布局合理

---

## 测试用例执行说明

### 执行顺序
1. 首先执行P0级别的测试用例
2. 然后执行P1级别的测试用例
3. 最后执行P2级别的测试用例

### 数据准备
- 每个测试模块开始前准备相应的测试数据
- 测试完成后清理测试数据
- 保持测试环境的干净和一致性

### 缺陷记录
- 发现缺陷时立即记录到缺陷报告中
- 包含详细的复现步骤和截图
- 标明缺陷的严重程度和优先级